.editor
    position: relative

    width: 100%
    height: 60vh
    max-height: 100%

    border-radius: var(--radius-l)

    margin: 0 auto
    transition: height 1ms 150ms, background-color var(--transition-s)
    animation: 300ms fade-in linear

    // When we show notes
    &.collapsed
        height: 8rem

    > p:only-child::before
        display: none
        content: 'Start typing...'

        position: absolute
        top: 0
        left: 0

        color: var(--color-main-25)
        pointer-events: none

    // Editor is empty
    > p:only-child
        &:has(br:only-child)
            &::before
                display: block

    ul ul > li
                margin-left: var(--space-xl)

    ol ol > li
                margin-left: var(--space-xl)

    ul>li::marker
                content: 'Â· '

    li > p
                display: inline

    a
        text-decoration: underline
        text-decoration-color: var(--color-main-15)
        text-underline-offset: 4px

    pre
        padding: var(--space-m) var(--space-l)
        margin: var(--space-m) 0

        font-size: var(--font-size-s)

        background: var(--color-main-05)
        border-radius: var(--radius-l)

        &[data-language]:not([data-language=""])::before
            content: attr(data-language)
            font-size: 0.75rem
            padding: var(--space-m) 0
            display: block
            color: var(--color-main-50)

    &::after
        transition: opacity var(--transition-m)
        content: 'drop .md and .txt to edit \A drop images to insert'
        text-align: center
        white-space: pre-wrap
        position: absolute
        top: 50%
        left: 50%
        transform: translate(-50%, -50%)
        font-size: var(--font-size-s)
        opacity: 0

    &.dragover
        background-color: var(--color-main-05)
        position: relative
        &::after
            opacity: 0.33

        > p:only-child::before
            opacity: 0

main:not(.notes-shown)
    ul.notes
        animation: none
        opacity: 0
        display: none
        pointer-events: none

.milkdown
    position: relative

// Font-dependent adjustments
:root[data-font="mono"]
    code
        border-radius: var(--radius-m)
        background: var(--color-main-05)
        padding: 2px 4px

:root[data-font="serif"]
    code, pre
        font-size: 0.92em

// Prosemirror asked me to do this
.ProseMirror
    white-space: pre-wrap
